!function(e){"use strict";var t=e.module("ngPopover",[]);t.directive("ngPopover",function(){return{restrict:"EA",scope:{direction:"@",trigger:"@",onClose:"&",onOpen:"&",popoverClass:"@"},replace:!0,transclude:!0,link:function(e,t,r,n){e.popoverClass=r.popoverClass,e.dropDirection=r.direction||"bottom";var i,s,c=document.querySelector("#"+e.trigger),l=document.querySelector('.ng-popover[trigger="'+e.trigger+'"]');c.addEventListener("click",function(t){var r=this,i=document.querySelector('.ng-popover[trigger="'+e.trigger+'"]');t.preventDefault(),a(r,i),o(r),i.classList.toggle("hide"),i.classList.contains("hide")?(n.unregisterBodyListener(),e.onClose(),e.$apply()):(n.registerBodyListener(),e.onOpen(),e.$apply())});var p=function(){var e=c.getBoundingClientRect();document.body.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},a=function(t,o){o.classList.toggle("hide");var r=o.offsetWidth,n=o.offsetHeight;o.classList.toggle("hide");var c=t.offsetWidth,l=t.offsetHeight;switch(e.dropDirection){case"left":i=p().left-r-10+"px",s=p().top+"px";break;case"right":i=p().left+c+10+"px",s=p().top+"px";break;case"top":i=p().left+"px",s=p().top-n-10+"px";break;default:i=p().left+"px",s=p().top+l+10+"px"}o.style.position="absolute",o.style.left=i,o.style.top=s};a(c,l)},controller:["$scope",function(e){var t=function(r){var n=r.target,i=!1;do if(n!=document&&n.classList&&(n.classList.contains("ng-popover")||n.classList.contains("ng-popover-trigger"))){i=!0;break}while(n=n.parentNode);i||(o(),document.body.removeEventListener("click",t),e.onClose(),e.$apply())};this.registerBodyListener=function(){document.body.addEventListener("click",t)},this.unregisterBodyListener=function(){document.body.removeEventListener("click",t)}}],template:'<div class="ng-popover hide"><div class="ng-popover-wrapper {{dropDirection}}"><div class="ng-popover-content" ng-class="popoverClass"><ng-transclude></ng-transclude></div></div></div>'}}),t.factory("ngPopoverFactory",function(){return{closePopover:function(e){document.querySelector(".ng-popover[trigger="+e+"]").classList.add("hide")},closeAll:function(){for(var e=document.querySelectorAll(".ng-popover"),t=0;t<e.length;t++)e[t].classList.contains("hide")||e[t].classList.add("hide")}}});var o=function(e){var t;e&&(t=e.getAttribute("id"));for(var o=void 0!=e?document.querySelectorAll('.ng-popover:not([trigger="'+t+'"])'):document.querySelectorAll(".ng-popover"),r=0;r<o.length;r++){var n=o[r];n.classList.contains("hide")||n.classList.add("hide")}}}(angular);